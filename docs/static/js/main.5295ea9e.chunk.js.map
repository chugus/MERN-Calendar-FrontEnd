{"version":3,"sources":["router/PublicRoute.js","router/PrivateRoute.js","hooks/useForm.js","helpers/fetch.js","types/types.js","actions/auth.js","components/auth/LoginScreen.js","components/ui/Navbar.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","actions/events.js","components/calendar/CalendarModal.js","actions/ui.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","helpers/prepararEventos.js","router/AppRouter.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","CalendarApp.js","index.js"],"names":["PublicRoute","_ref","children","uid","react_default","a","createElement","react_router","to","PrivateRoute","useForm","initialState","arguments","length","undefined","_useState","useState","_useState2","Object","slicedToArray","values","setValues","target","objectSpread","defineProperty","name","value","baseUrl","process","fetchSinToken","endpoint","data","method","url","concat","fetch","body","JSON","stringify","headers","Content-Type","fetchConToken","x-token","localStorage","getItem","types","startLogin","email","password","asyncToGenerator","regenerator_default","mark","_callee","dispatch","resp","wrap","_context","prev","next","sent","json","ok","setItem","token","Date","getTime","login","Swal","fire","msg","stop","_x","apply","this","checkingFinish","type","user","payload","logout","LoginScreen","useDispatch","_useForm","lEmail","lPassword","_useForm2","formLoginValues","handleLoginInputChange","_useForm3","rName","rEmail","rPassword1","rPassword2","_useForm4","formRegisterValues","handleRegisterInputChange","className","onSubmit","e","preventDefault","placeholder","onChange","_ref2","_callee2","_context2","then","setTimeout","_x2","Navbar","useSelector","state","auth","onClick","startLogout","clear","messages","allDay","previous","today","month","week","day","agenda","date","time","event","noEventsInRange","showMore","total","CalendarEvent","title","eventAddNew","eventUpdated","eventDeleted","eventLoaded","events","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","moment","minutes","seconds","add","masUno","initEvent","notes","start","toDate","end","CalendarModal","modalOpen","ui","activeEvent","calendar","dateStart","setDateStart","_useState3","_useState4","dateEnd","setDateEnd","_useState5","_useState6","setTitleValid","_useState7","_useState8","formValues","setFormValues","useEffect","handleInputChange","closeModal","lib_default","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","id","t0","console","log","_x3","getState","_getState$auth","_yield$resp$json","evento","_id","eventStartAddNew","entry_default","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","_ref3","_callee3","_context3","_x4","_x5","locale","localizer","momentLocalizer","CalendarScreen","_useSelector","lastView","setLastView","_ref4","_callee4","_context4","eventos","map","_x6","onDoubleClick","Navbar_Navbar","react_big_calendar_esm","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onView","onSelectSlot","selectable","view","components","AddNewFab_AddNewFab","DeleteEventFab_DeleteEventFab","CalendarModal_CalendarModal","AppRouter","checking","path","element","PublicRoute_PublicRoute","LoginScreen_LoginScreen","PrivateRoute_PrivateRoute","CalendarScreen_CalendarScreen","rootReducer","combineReducers","action","toConsumableArray","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","es","AppRouter_AppRouter","ReactDOM","render","react_router_dom","CalendarApp_CalendarApp","document","getElementById"],"mappings":"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","file":"static/js/main.5295ea9e.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nexport const PublicRoute = ({ children, uid }) => {\r\n    return !!uid\r\n        ? <Navigate to='/' />\r\n        : children\r\n\r\n}","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ children, uid }) => {\r\n\r\n  return !!uid\r\n    ? children\r\n    : <Navigate to='/login' />\r\n}","import { useState } from 'react';\r\n\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setValues( initialState );\r\n    }\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ];\r\n\r\n}\r\n","const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\n\r\nexport const fetchSinToken = (endpoint, data, method = 'GET') => {\r\n    const url = `${baseUrl}/${endpoint}`;\r\n\r\n    if (method === 'GET') {\r\n        return fetch(url);\r\n    } else {\r\n        return fetch(url, {\r\n            method,\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const fetchConToken = (endpoint, data, method = 'GET') => {\r\n    const url = `${baseUrl}/${endpoint}`;\r\n\r\n    if (method === 'GET') {\r\n        return fetch(url, {\r\n            method,\r\n            headers: {\r\n                'x-token': localStorage.getItem('token')\r\n            }\r\n            });\r\n    } else {\r\n        return fetch(url, {\r\n            method,\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-token': localStorage.getItem('token')\r\n            }\r\n        });\r\n    }\r\n}","\r\n\r\nexport const types = {\r\n    uiOpenModal: '[ui] Open Modal',\r\n    uiCloseModal: '[ui] Close Modal',\r\n\r\n    eventSetActive: '[event] Set Active',\r\n    eventLogout: '[event] Logout',\r\n\r\n    eventStartAddNew: '[event] Start Add New',\r\n    eventAddNew: '[event] Add New',\r\n    eventClearActiveEvent: '[event] Clear active event',\r\n    eventUpdated: '[event] Updated',\r\n    eventDeleted: '[event] Deleted',\r\n    eventClearActive: '[event] Clear Active',\r\n    eventStartLoading: '[event] Loaded',\r\n    eventLoaded: '[event] Loaded',\r\n\r\n    authChecking: '[auth] Checking login state',\r\n    authCheckingFinished: '[auth] Checking login state finished',\r\n    authStartLogin: '[auth] Start login',\r\n    authLogin: '[auth] Login',\r\n    authStartRegister: '[auth] Start register',\r\n    authStartTokenRenew: '[auth] Start token renew',\r\n    authLogout: '[auth] Logout',\r\n\r\n}","import Swal from \"sweetalert2\";\r\nimport { fetchConToken, fetchSinToken } from \"../helpers/fetch\"\r\nimport { types } from \"../types/types\";\r\n\r\n\r\nexport const startLogin = (email, password) => {\r\n\r\n    return async (dispatch) => {\r\n        const resp = await fetchSinToken('auth', { email, password }, 'POST');\r\n        const body = await resp.json();\r\n\r\n        if (body.ok) {\r\n            localStorage.setItem('token', body.token);\r\n            localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n            dispatch(login({\r\n                uid: body.uid,\r\n                name: body.name\r\n            }));\r\n        } else {\r\n            Swal.fire('Error', body.msg, 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const startRegister = (name, email, password) => {\r\n    return async (dispatch) => {\r\n        await fetchSinToken('auth/new', { name, email, password }, 'POST')\r\n            .then(resp => resp.json())\r\n            .then(body => {\r\n                if (body.ok) {\r\n                    Swal.fire('Registro', 'Usuario creado correctamente', 'success');\r\n\r\n                    localStorage.setItem('token', body.token);\r\n                    localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n                    setTimeout(() => {\r\n                        dispatch(startLogin(email, password));\r\n                    }, 2000);\r\n\r\n                } else {\r\n                    Swal.fire('Error', body.msg, 'error');\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const startChecking = () => {\r\n    return async (dispatch) => {\r\n        await fetchConToken('auth/renew')\r\n            .then(resp => resp.json())\r\n            .then(body => {\r\n                if (body.ok) {\r\n\r\n                    localStorage.setItem('token', body.token);\r\n                    localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n                    setTimeout(() => {\r\n                        dispatch(login({\r\n                            uid: body.uid,\r\n                            name: body.name\r\n                        }));\r\n                    }, 2000);\r\n\r\n                } else {\r\n                    dispatch(checkingFinish())\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const checkingFinish = () => ({type: types.authCheckingFinished});\r\n\r\n\r\n\r\nconst login = (user) => ({\r\n    type: types.authLogin,\r\n    payload: user\r\n});\r\n\r\nexport const startLogout = () => {\r\n    return (dispatch) => {\r\n        localStorage.clear();\r\n\r\n        dispatch(startLogout());\r\n        dispatch(logout());\r\n    }   \r\n}\r\n\r\nconst logout = () => ({type: types.authLogout});","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { startLogin, startRegister } from '../../actions/auth';\r\n\r\n\r\nimport './login.css';\r\n\r\nexport const LoginScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [formLoginValues, handleLoginInputChange] = useForm({\r\n        lEmail: 'deste@jajaja.com',\r\n        lPassword: '123456'\r\n    });\r\n    \r\n    const [formRegisterValues, handleRegisterInputChange] = useForm({\r\n        rName: 'Deste',\r\n        rEmail: 'deste@mdo.com',\r\n        rPassword1: '123456',\r\n        rPassword2: '123456',\r\n    });\r\n\r\n    const {lEmail, lPassword} = formLoginValues;\r\n    const { rName, rEmail, rPassword1, rPassword2 } = formRegisterValues;\r\n\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        \r\n        dispatch(startLogin(lEmail, lPassword))\r\n    }\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (rPassword1 !== rPassword2) {\r\n            Swal.fire('Error', 'Las contraseñas no coinciden', 'error');\r\n            return;\r\n        }\r\n\r\n        dispatch(startRegister(rName, rEmail, rPassword1));\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container login-container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <h3>Ingreso</h3>\r\n                    <form onSubmit={handleLogin}>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name='lEmail'\r\n                                value={lEmail}\r\n                                onChange={handleLoginInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name='lPassword'\r\n                                value={lPassword}\r\n                                onChange={handleLoginInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Login\"\r\n                            />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"col-md-6 login-form-2\">\r\n                    <h3>Registro</h3>\r\n                    <form onSubmit={handleRegister}>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Nombre\"\r\n                                name='rName'\r\n                                value={rName}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name='rEmail'\r\n                                value={rEmail}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name='rPassword1'\r\n                                value={rPassword1}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Repita la contraseña\"\r\n                                name='rPassword2'\r\n                                value={rPassword2}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Crear cuenta\" />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { startLogout } from '../../actions/auth';\r\n\r\nexport const Navbar = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const name = useSelector(state => state.auth.name);\r\n\r\n    const handleLogout = () => {\r\n        dispatch(startLogout());\r\n    }\r\n\r\n    return (\r\n        <div className='navbar navbar-dark bg-dark mb-4'>\r\n            <span className='navbar-brand'>\r\n                {name}\r\n            </span>\r\n\r\n            <button className='btn btn-outline-danger' onClick={handleLogout}>\r\n                <i className='fa fa-sign-out-alt'></i>   \r\n                <span> Salir</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","export const messages = {\r\n    allDay: 'Todo el día',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'Día',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver más (${total})`\r\n};","import React from 'react'\r\n\r\nexport const CalendarEvent = ({event}) => {\r\n\r\n    const {title, user} = event;\r\n\r\n  return (\r\n    <div>\r\n        <strong>{title}</strong>\r\n        <span>- {user.name}</span>\r\n    </div>\r\n  )\r\n}\r\n","import Swal from \"sweetalert2\";\r\n\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport { prepararEventos } from \"../helpers/prepararEventos\";\r\nimport { types } from \"../types/types\";\r\n\r\n\r\nexport const eventStartAddNew = (event) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        const { uid, name } = getState().auth;\r\n\r\n        try {\r\n            const resp = await fetchConToken('events', event, 'POST');\r\n            const { ok, evento } = await resp.json();\r\n\r\n            if (ok) {\r\n                event.id = evento.id;\r\n                event.user = {\r\n                    _id: uid,\r\n                    name\r\n                }\r\n\r\n                dispatch(eventAddNew(event));\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    };\r\n}\r\n\r\n\r\nconst eventAddNew = (event) => ({\r\n    type: types.eventAddNew,\r\n    payload: event\r\n});\r\n\r\nexport const setActive = (event) => ({\r\n    type: types.eventSetActive,\r\n    payload: event\r\n});\r\n\r\nexport const clearActiveEvent = () => ({\r\n    type: types.eventClearActive\r\n});\r\n\r\nexport const eventClearActiveEvent = () => ({ type: types.eventClearActiveEvent });\r\n\r\nexport const eventStartUpdated = (event) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            const resp = await fetchConToken(`events/${event.id}`, event, 'PUT');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok) {\r\n                dispatch(eventUpdated(event));\r\n            } else {\r\n                Swal.fire('Error', body.msg, 'error');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    };\r\n}\r\n\r\nconst eventUpdated = (event) => ({\r\n    type: types.eventUpdated,\r\n    payload: event\r\n});\r\n\r\nexport const eventStartDeleted = () => {\r\n    return async (dispatch, getState) => {\r\n\r\n        const {id} = getState().calendar.activeEvent;\r\n\r\n        try {\r\n            const resp = await fetchConToken(`events/${id}`, {}, 'DELETE');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok) {\r\n                dispatch(eventDeleted());\r\n            } else {\r\n                Swal.fire('Error', body.msg, 'error');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    };\r\n}\r\n\r\nconst eventDeleted = (event) => ({\r\n    type: types.eventDeleted,\r\n    payload: event\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const resp = await fetchConToken('events');\r\n            const body = await resp.json();\r\n\r\n            const events = prepararEventos(body.eventos);\r\n            \r\n            dispatch(eventLoaded(events));\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n\r\nconst eventLoaded = (events) => ({\r\n    type: types.eventLoaded,\r\n    payload: events\r\n});\r\n\r\nexport const eventLogout = () => ({type: types.eventLogout});","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Modal from 'react-modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\n\r\nimport moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { uiCloseModal } from '../../actions/ui';\r\nimport { clearActiveEvent, eventStartAddNew, eventStartUpdated } from '../../actions/events';\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: '-50%',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours');\r\n\r\nconst masUno = (now) => {\r\n    return now.add(1, 'hours');\r\n}\r\n\r\nconst initEvent = {\r\n    title: '',\r\n    notes: '',\r\n    start: now.toDate(),\r\n    end: masUno(now).toDate(),\r\n};\r\n\r\n\r\n\r\nexport const CalendarModal = () => {\r\n\r\n    const { modalOpen } = useSelector(state => state.ui);\r\n    const { activeEvent } = useSelector(state => state.calendar);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [dateStart, setDateStart] = useState(now.toDate());\r\n    const [dateEnd, setDateEnd] = useState(masUno(now).toDate());\r\n    const [titleValid, setTitleValid] = useState(true);\r\n\r\n    const [formValues, setFormValues] = useState(initEvent);\r\n\r\n    const { notes, title } = formValues;\r\n\r\n    useEffect(() => {\r\n\r\n        if (activeEvent) {\r\n            setFormValues(activeEvent);\r\n            setDateStart(activeEvent.start);\r\n            setDateEnd(activeEvent.end);\r\n        } else {\r\n            setFormValues(initEvent);\r\n            setDateStart(now.toDate());\r\n            setDateEnd(masUno(now).toDate());\r\n        }\r\n\r\n    }, [activeEvent])\r\n\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n        setFormValues({\r\n            ...formValues,\r\n            [target.name]: target.value\r\n        });\r\n    };\r\n\r\n\r\n    const closeModal = () => {\r\n        dispatch(uiCloseModal());\r\n        dispatch(clearActiveEvent());\r\n        setFormValues(initEvent);\r\n    }\r\n\r\n    const handleStartDateChange = (e) => {\r\n        setDateStart(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            start: e\r\n        });\r\n    }\r\n\r\n    const handleEndDateChange = (e) => {\r\n        setDateEnd(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            end: e\r\n        });\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const momentStart = moment(dateStart);\r\n        const momentEnd = moment(dateEnd);\r\n\r\n        if (momentStart.isSameOrAfter(momentEnd)) {\r\n            return Swal.fire('Error', 'La fecha de inicio debe ser menor a la fecha de fin', 'error');\r\n        }\r\n\r\n        if (title.trim() === '') {\r\n            return setTitleValid(false);\r\n        }\r\n\r\n        if (activeEvent) {\r\n            dispatch(eventStartUpdated(formValues))\r\n        } else {\r\n            dispatch(eventStartAddNew(formValues));\r\n        }\r\n\r\n\r\n        setTitleValid(true);\r\n        closeModal();\r\n    }\r\n\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={modalOpen}\r\n            onRequestClose={closeModal}\r\n            style={customStyles}\r\n            closeTimeoutMS={200}\r\n            className=\"modal\"\r\n            overlayClassName=\"modal-fondo\"\r\n        >\r\n            <h1> { (activeEvent) ? 'Editar evento' : 'Nuevo evento' } </h1>\r\n            <hr />\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"container\"\r\n            >\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Fecha y hora inicio</label>\r\n                    <DateTimePicker\r\n                        onChange={handleStartDateChange}\r\n                        value={dateStart}\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Fecha y hora fin</label>\r\n                    <DateTimePicker\r\n                        onChange={handleEndDateChange}\r\n                        value={dateEnd}\r\n                        minDate={dateStart}\r\n                        className=\"form-control\"\r\n                    />\r\n                </div>\r\n\r\n                <hr />\r\n                <div className=\"form-group\">\r\n                    <label>Titulo y notas</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className={`form-control ${title.trim() === '' && 'is-invalid'}`}\r\n                        placeholder=\"Título del evento\"\r\n                        name=\"title\"\r\n                        autoComplete=\"off\"\r\n                        value={title}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <textarea\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Notas\"\r\n                        rows=\"5\"\r\n                        name=\"notes\"\r\n                        value={notes}\r\n                        onChange={handleInputChange}\r\n                    ></textarea>\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-outline-primary btn-block\"\r\n                >\r\n                    <i className=\"far fa-save\"></i>\r\n                    <span> Guardar</span>\r\n                </button>\r\n\r\n            </form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { types } from \"../types/types\"\r\n\r\n\r\nexport const uiOpenModal = () => ({type: types.uiOpenModal});\r\nexport const uiCloseModal = () => ({type: types.uiCloseModal});","import React from 'react'\r\n\r\nexport const AddNewFab = ({event}) => {\r\n  return (\r\n    <button className='btn btn-primary fab' onClick={event} >\r\n        <i className='fa fa-plus' />\r\n    </button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { eventStartDeleted } from '../../actions/events';\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDelete = () => {\r\n    dispatch(eventStartDeleted());\r\n  }\r\n\r\n  return (\r\n    <button className='btn btn-danger fab-danger' onClick={handleDelete}>\r\n        <i className='fa fa-trash' />\r\n        <span> Borrar evento</span>\r\n    </button>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {Calendar, momentLocalizer} from 'react-big-calendar';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport { uiOpenModal } from '../../actions/ui';\r\nimport { Navbar } from '../ui/Navbar';\r\nimport { messages } from '../../helpers/calendar-messages-es';\r\nimport { CalendarEvent } from './CalendarEvent';\r\nimport { CalendarModal } from './CalendarModal';\r\n\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport 'moment/locale/es';\r\nimport { eventClearActiveEvent, eventStartLoading, setActive } from '../../actions/events';\r\nimport { AddNewFab } from '../ui/AddNewFab';\r\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\r\n\r\nmoment.locale('es');\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\n\r\nexport const CalendarScreen = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // Leer del store los eventos\r\n  const {events, activeEvent} = useSelector(state => state.calendar);\r\n  const {uid} = useSelector(state => state.auth);\r\n\r\n  const [lastView, setLastView] = useState(localStorage.getItem('lastView') || 'month');\r\n\r\n  useEffect(() => {\r\n    dispatch(eventStartLoading());\r\n  }, [dispatch])\r\n  \r\n\r\n  const onDoubleClick = (e) => {\r\n    dispatch(uiOpenModal());\r\n  }\r\n  \r\n  const onSelectEvent = (e) => {\r\n    dispatch(setActive(e));\r\n  }\r\n\r\n  const onViewChange = (e) => {\r\n    setLastView(e);\r\n    localStorage.setItem('lastView', e);\r\n  }\r\n\r\n  const onSelectSlot = (e) => {\r\n    dispatch(eventClearActiveEvent());\r\n  }\r\n\r\n\r\n  const eventStyleGetter = (event, start, end, isSelected) => {\r\n    const style = {\r\n      backgroundColor: (uid === event.user._id) ? '#367cf7' : '#465660',\r\n      borderRadius: '0px',\r\n      opacity: 0.8,\r\n      display: 'block',\r\n      color: 'white',\r\n    }\r\n\r\n    return {style}\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='calendar-screen'>\r\n      <Navbar />\r\n\r\n      <Calendar\r\n        localizer={localizer}\r\n        events={events}\r\n        startAccessor='start'\r\n        endAccessor='end'\r\n        messages={messages}\r\n        eventPropGetter={eventStyleGetter}\r\n        onDoubleClickEvent={onDoubleClick}\r\n        onSelectEvent={onSelectEvent}\r\n        onView={onViewChange}\r\n        onSelectSlot={onSelectSlot}\r\n        selectable={true}\r\n        view={lastView}\r\n        components={{\r\n          event: CalendarEvent,\r\n        }}\r\n      />\r\n\r\n      <AddNewFab event={onDoubleClick} />\r\n\r\n      {\r\n        activeEvent && (\r\n          <DeleteEventFab />\r\n        )\r\n      }\r\n\r\n      <CalendarModal />\r\n    </div>\r\n  )\r\n}\r\n","import moment from \"moment\"\r\n\r\nexport const prepararEventos = (eventos) => {\r\n    const eventosPreparados = eventos.map(evento => {\r\n        return {\r\n            ...evento,\r\n            start: new Date(evento.start),\r\n            end: new Date(evento.end),\r\n        }\r\n    })\r\n    \r\n    return eventosPreparados;\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Route, Routes } from 'react-router-dom'\r\n\r\nimport { PublicRoute } from './PublicRoute';\r\nimport { PrivateRoute } from './PrivateRoute';\r\n\r\nimport { LoginScreen } from '../components/auth/LoginScreen'\r\nimport { CalendarScreen } from '../components/calendar/CalendarScreen'\r\n\r\nimport { startChecking } from '../actions/auth'\r\n\r\n\r\n\r\nexport const AppRouter = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { checking, uid } = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n        dispatch(startChecking());\r\n    }, [dispatch]);\r\n\r\n    if (checking) {\r\n        return <h1>Cargando...</h1>\r\n    }\r\n\r\n\r\n    return (\r\n        <Routes>\r\n            <Route path='/login' element={\r\n                <PublicRoute uid={uid} >\r\n                    <LoginScreen />\r\n                </PublicRoute>\r\n            } />\r\n            <Route path='/' element={\r\n                <PrivateRoute uid={uid}>\r\n                    <CalendarScreen />\r\n                </PrivateRoute>\r\n            } />\r\n        </Routes>\r\n    )\r\n}\r\n","import { types } from \"../types/types\"\r\n\r\n\r\nconst initialState = {\r\n    checking: true,\r\n    uid: null,\r\n    name: null,\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.authLogin: \r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                checking: false\r\n            }\r\n\r\n        case types.authCheckingFinished:\r\n            return {\r\n                ...state,\r\n                checking: false\r\n            }\r\n\r\n        case types.authLogout: \r\n            return {\r\n                checking: false\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import { types } from \"../types/types\";\r\n\r\n// {\r\n//     id: new Date().getTime(),\r\n//     title: 'Se viene el COVÍ',\r\n//     start: moment().toDate(),\r\n//     end: moment().add(1, 'hours').toDate(),\r\n//     bgcolor: '#f0ad4e',\r\n//     notes: 'No morir',\r\n//     user: {\r\n//       uid: '123',\r\n//       name: 'Chugus'\r\n//     }\r\n// }\r\n\r\nconst initialState = {\r\n    events: [],\r\n    activeEvent: null\r\n};\r\n\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.eventSetActive:\r\n            return {\r\n                ...state,\r\n                activeEvent: action.payload\r\n            };\r\n\r\n        case types.eventAddNew:\r\n            return {\r\n                ...state,\r\n                events: [\r\n                    ...state.events,\r\n                    action.payload\r\n                ]\r\n            };\r\n\r\n        case types.eventClearActive:\r\n            return {\r\n                ...state,\r\n                activeEvent: null\r\n            };\r\n\r\n        case types.eventUpdated:\r\n            return {\r\n                ...state,\r\n                events: state.events.map(event => (\r\n                    action.payload.id === event.id ? action.payload : event\r\n                ))\r\n            };\r\n\r\n        case types.eventDeleted:\r\n            return {\r\n                ...state,\r\n                events: state.events.filter(e => e.id !== state.activeEvent.id),\r\n                activeEvent: null\r\n            };\r\n\r\n        case types.eventLoaded:\r\n            return {\r\n                ...state,\r\n                events: action.payload\r\n            }\r\n\r\n        case types.eventLogout: \r\n            return {\r\n                ...initialState\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    modalOpen: false,\r\n}\r\n\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.uiOpenModal:\r\n            return {\r\n                ...state,\r\n                modalOpen: true\r\n            }\r\n        case types.uiCloseModal:\r\n            return {\r\n                ...state,\r\n                modalOpen: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\n\r\nimport { authReducer } from \"./authReducer\";\r\nimport { calendarReducer } from \"./calendarReducer\";\r\nimport { uiReducer } from \"./uiReducer\";\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    ui: uiReducer,\r\n    calendar: calendarReducer,\r\n    auth: authReducer\r\n});\r\n\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose);\r\n\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);","import React from 'react'\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { AppRouter } from './router/AppRouter'\r\nimport { store } from './store/store';\r\n\r\n\r\nexport const CalendarApp = () => {\r\n  return (\r\n      <Provider store={store}>\r\n        <AppRouter />\r\n      </Provider>\r\n  )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { CalendarApp } from './CalendarApp';\n\nimport './styles.css'\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <CalendarApp />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}